# Some places to look for information:
#
# * http://www.mutt.org/doc/manual/
# * https://wiki.debian.org/Mutt
# * https://wiki.archlinux.org/index.php/mutt
# * http://mutt.blackfish.org.uk/
# * http://www.calmar.ws/mutt/

# search for new messages in maildir/MH folders.
set check_new
# don't collapse threads with unread mails
unset collapse_unread
# put headers in editor when composing messages
set edit_headers
# Abort, if message has no subject.
set abort_nosubject=no

# Sorting
# sorting the mails in threads
set sort=threads
# sorting the threads
set sort_aux=date

# Do not use mailbox!
set mbox_type = Maildir

# Shortcuts overview for mutt internal folders
#
# ============ ========================= ============ ==============
# refers to    typical place             mutt-var     shortcut
# ============ ========================= ============ ==============
# "inbox"      /var/spool/mail/USER      $spoolfile   "!"
# $HOME dir    /home/user                no-mutt var  "~" or "$HOME"
# folders dir  /home/user/mail           $folder      "+" or "="
# "mbox"       /home/user/mail/received  $mbox        ">"
# "sent"       /home/user/mail/sent      $record      "<"
# unfinished   /home/user/mail/postponed $postponed   "+postponed"
# personal     /home/user/mail/personal               "+personal" 
# ============ ========================= ============ ==============
set folder="~/mail/"
set mbox="~/mail/inbox/"
set spoolfile="~/mail/inbox/"
set record="~/mail/sent/"
set postponed="~/mail/postponed/"

# Alias and Addressbook
#
# This comes from http://www.calmar.ws/mutt/.
#
# In the alias file I store all the email address of email list that I'm
# subscribed. Is easy add a new one editing the file or with a script.
set alias_file="~/.mutt/mail-list-alias"
set sort_alias=alias
set reverse_alias=yes
source $alias_file
# For the addressbook I use abook. For query it I have to use Ctrl-t.
set query_command="abook --mutt-query '%s'"
macro editor ";" \ct
# Macros to add new email address
macro generic,index,pager \ca "<shell-escape>abook<return>" "launch abook"
macro index,pager A "<pipe-message>abook --add-email<return>" "add the sender address to abook"

# Handle mail lists
#
# Mutt has a few nice features for handling mailing lists. In order to take
# advantage of them, you must specify which addresses belong to mailing lists,
# and which mailing lists you are subscribed to. Once you have done this, the
# list-reply function will work for all known lists.
source ~/.mutt/mail-list-address

# Send email (see msmtp manual)
set sendmail="/usr/bin/msmtp"
set use_from=yes
# The  envelope_from=yes  option lets Mutt use the -f option of msmtp. Therefore
# msmtp chooses the first account that matches the from address you@example.com.
# If no such account is found, "default" is used.
set envelope_from=yes

# Default user
set realname = "Raniere Silva"
set from=ra092767@ime.unicamp.br
# Others accounts
macro generic "<esc>1" ":set from=ra092767@ime.unicamp.br"
macro generic "<esc>2" ":set from=raniere@ime.unicamp.br"
macro generic "<esc>3" ":set from=raniere@riseup.net"
macro generic "<esc>4" ":set from=raniere@okfn.org.br"
